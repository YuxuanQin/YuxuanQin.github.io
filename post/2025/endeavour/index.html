<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>endeavour</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="/styles/styles.css" />
</head>
<body>
<h1 id="重回-linux">重回 linux</h1>
<p><strong>注意</strong>：具体配置如下：</p>
<ul>
<li>发行版：<a
href="https://endeavouros.com/">endeavouros</a>（轻松安装版的
arch）；</li>
<li>桌面环境：无（是的，linux
可以没有桌面环境，但是依然能用图形软件！）；</li>
<li>窗口管理器：<a href="swaywm.org">sway</a>（用的是 vim 键位）；</li>
<li>输入法：fcitx5；</li>
</ul>
<h2 id="我不会用-windwows">我不会用 windwows……</h2>
<p>新电脑到了以后准备放下花拳绣腿，老老实实使用 windows
图得轻松，但是如下几点让我很不爽：</p>
<ul>
<li>没有窗口管理器；
<ul>
<li>注：实际上有（<a
href="https://lgug2z.github.io/komorebi/">komorebi</a>），但是全局键变成了
alt，而且性能也不如 sway 来得高</li>
</ul></li>
<li>系统内大量广告；</li>
<li>终端：
<ul>
<li>启动速度太慢；</li>
<li>不支持 nerd font、图片预览等小功能，文件管理器 yazi
用得很难受；</li>
<li>wsl 用不熟；</li>
</ul></li>
<li>文件资源管理器不能键盘操作；</li>
<li>不知道藏了多少我不需要的东西；</li>
<li>对 tex 支持可能不如纯 linux 好；</li>
</ul>
<p>当然，windows 至少让我玩到了 Sheepy: A shrot adventure。 ## 安装
endeavour OS 本次重装 linux 依然选择神中神的 endeavour
OS。上官网逛了一圈，发现它的含金量还在上升🤣：</p>
<ul>
<li>社区支持的 <a
href="https://github.com/EndeavourOS-Community-Editions/sway">Sway
版本</a>自动配置了 sway、waybar、剪切板（clipphist）、托盘图标。</li>
</ul>
<h3 id="安装前">安装前</h3>
<ol type="1">
<li>进入<a
href="https://endeavouros.com/">官网</a>，往下拖动，看到“Asia”字样后，选择镜像下载（吉大、清华均有镜像）；</li>
<li>下载 ventoy，自不必多说；</li>
<li>在 windows
内分盘，无须赋予盘符，即：选原有盘，右键压缩卷，得到新卷即可；</li>
<li>确保安装了 ventoy 的 U 盘中有 endeavour OS 的 <code>.iso</code>
文件；</li>
<li>（通过各种手段）进入 BIOS，并：</li>
</ol>
<pre><code>- 关闭 `Secure Boot`；
- 关闭 `Fast Boot`；
- 调整驱动顺序，确保 U 盘优先级高于 Windows；</code></pre>
<ol start="6" type="1">
<li>保存 BIOS 设置并退出，此时电脑应自动重启；</li>
</ol>
<h3 id="安装中">安装中：</h3>
<ol type="1">
<li>选择第一个默认启动（当然英伟达显卡另谈）；</li>
<li>联网；</li>
<li>选择题：
<ul>
<li>如果能访问 Github，一切按<a
href="https://github.com/EndeavourOS-Community-Editions/sway">计划</a>进行；</li>
<li>如果不能访问 Github：
<ul>
<li>直接无桌面离线安装；</li>
<li>进入 tty 后联网，克隆<a
href="https://codeberg.org/fup6m3vj0/endeavours-os-sway-edition">我的备份仓库</a>后，进入此仓库文件夹内执行
<code>sway-install.sh</code>；</li>
</ul></li>
</ul></li>
</ol>
<h3 id="安装后">安装后</h3>
<ol type="1">
<li>如果所有字体都变得很大，执行
<code>wlr-randr --output 显示器名字 --scale 缩放倍率</code>
可作相应调整，其中 <code>显示器名字</code> 可通过执行
<code>wlr-randr</code> 获取，一般输出内容第一行就是；</li>
<li>如果时间不正常，执行
<code>timedatectl set-timezone Asia/Shanghai</code> 可调整至正常；</li>
<li><code>wlsunset -T 温度</code>
可以用来配置护眼模式，我一般把温度设置为 <code>4500</code>；</li>
</ol>
<h2 id="设置">设置</h2>
<ol type="1">
<li>改镜像不题；</li>
<li><code>pacman -Syyu</code> 不题；</li>
<li>在 <code>/etc/pacman.conf</code> 内加入 <code>archlinuxcn</code>
链接，详见 <a
href="https://mirrors.tuna.tsinghua.edu.cn/help/archlinuxcn/">tuna
指导</a>；</li>
</ol>
<h2 id="具体文件的配置见仓库">具体文件的配置（见<a
href="https://codeberg.org/fup6m3vj0/dotfiles">仓库</a>）：</h2>
<ul>
<li>输入法：老大难问题😭
<ol type="1">
<li><p>执行 <code>pacman -S fcitx5 fcitx5-rime</code> 下载 rime
本体；</p></li>
<li><p>执行 <code>yay -S rime-ice-git</code> 下载雾凇词库；</p></li>
<li><p>执行 <code>fcitx5</code>，直接开始使用输入法；</p></li>
<li><p>输入法的配置在
<code>~/.local/share/fcitx5/rime/default.custom.yaml</code></p>
<pre><code>patch:
  # 仅使用「雾凇拼音」的默认配置，配置此行即可
  __include: rime_ice_suggestion:/
  # 以下根据自己所需自行定义，仅做参考。
  # 针对对应处方的定制条目，请使用 &lt;recipe&gt;.custom.yaml 中配置，例如 rime_ice.custom.yaml
  menu:  
    page_size: 9  # 九行候选栏
  ascii_composer:
    switch_key:
      Caps_Lock: noop  # 禁用 Caps Lock 切换英文模式
      Shift_L: commit_code  # 可选：保留 Shift 切换英文模式
      Shift_R: commit_code  # 可选：保留 Shift 切换英文模式</code></pre>
<p>修改完成后右键 fcitx5 图标重启即可；</p></li>
<li><p>执行 <code>pacman -S fcitx5-qt fcitx5-configtool</code>
设置输入法；</p></li>
</ol></li>
</ul>
<h2 id="小贴士可能只适用于我个人">小贴士（可能只适用于我个人）</h2>
<ul>
<li><code>proxychains</code> 可用来做终端代理，如使用
<code>nekoray</code>，则在 <code>/etc/proxychains.conf</code> 最后加上
<code>socks5 127.0.0.1 2080</code> 即可；</li>
<li>若 <code>hmcl</code> 异常卡顿，可退出，并执行
<code>hmcl -Dprism.forceGPU=true</code> 以强制启用 GPU；</li>
<li><code>~/.config/sway/config.d</code> 内的
<code>autostart_applications</code>
是自启动软件配置，如果想开机自动启用中文输入法、缩放倍率以及护眼模式，可以在此文件最后加上：</li>
</ul>
<pre><code>#---------------#
# 输入法
exec fcitx5

# 缩放
exec wlr-randr --output eDP-1 --scale 1.4

# 护眼
exec wlsunset -T 4500</code></pre>
<h2 id="最后的注记">最后的注记</h2>
<p>还有许多东西没好好讲解，譬如 <code>yay</code> 和
<code>pacman</code>，当然 arch
本身的配置也确实非常丰富，不是一篇文章能讲完的，何况网上已经有那么多好文章。</p>
<p>下面极力推荐几篇文章，在我看来属于不得不品级别：</p>
<ul>
<li><a href="https://wiki.archlinuxcn.org/">Arch Linux
中文维基</a>的第一节“关于发行版”的全部条目</li>
<li><a href="https://arch.icekylin.online/">Arch Linux
简明指南</a>的全部内容</li>
</ul>
</body>
</html>
